<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.66" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://xiucaistack.cn/AI%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%B7%AF/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/RAG%E7%B3%BB%E5%88%97/RAG%E6%80%BB%E4%BD%93%E6%A6%82%E8%A7%88.html"><meta property="og:site_name" content="秀才的进阶之路"><meta property="og:title" content="RAG总体概览"><meta property="og:description" content="RAG总体概览 在处理 LLM 时存在着许多挑战，例如领域知识差距、事实问题和幻觉等灯。检索增强生成（RAG）通过为 LLM 添加外部知识（如数据库）来解决一些这些问题。RAG 特别适用于需要不断更新知识的知识密集型场景或特定领域应用。与其它方法相比，RAG 的一个主要优势是 LLM 不需要为特定任务重新训练。RAG也因其在对话代理中的应用而广受欢迎 ..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-06-26T15:42:17.000Z"><meta property="article:tag" content="AI"><meta property="article:tag" content="AI应用开发"><meta property="article:tag" content="llm"><meta property="article:tag" content="大模型"><meta property="article:tag" content="大模型应用开发"><meta property="article:tag" content="LangChain"><meta property="article:tag" content="Callbacks"><meta property="article:tag" content="回调"><meta property="article:modified_time" content="2025-06-26T15:42:17.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"RAG总体概览","image":[""],"dateModified":"2025-06-26T15:42:17.000Z","author":[{"@type":"Person","name":"秀才","url":"https://github.com/Percygu"}]}</script><link rel="icon" href="/web_logo2.png"><title>RAG总体概览 | 秀才的进阶之路</title><meta name="description" content="RAG总体概览 在处理 LLM 时存在着许多挑战，例如领域知识差距、事实问题和幻觉等灯。检索增强生成（RAG）通过为 LLM 添加外部知识（如数据库）来解决一些这些问题。RAG 特别适用于需要不断更新知识的知识密集型场景或特定领域应用。与其它方法相比，RAG 的一个主要优势是 LLM 不需要为特定任务重新训练。RAG也因其在对话代理中的应用而广受欢迎 ...">
    <link rel="preload" href="/assets/style-ByOeqJdo.css" as="style"><link rel="stylesheet" href="/assets/style-ByOeqJdo.css">
    <link rel="modulepreload" href="/assets/app-DnLzMSw7.js"><link rel="modulepreload" href="/assets/RAG总体概览.html-Bcgp6nmG.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-mjKj_h3w.js" as="script"><link rel="prefetch" href="/assets/index.html-BNxjt1EW.js" as="script"><link rel="prefetch" href="/assets/disable.html-BdBONuL5.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-BGVTRbxw.js" as="script"><link rel="prefetch" href="/assets/layout.html-BkIC6DJt.js" as="script"><link rel="prefetch" href="/assets/markdown.html-DJeiYkQV.js" as="script"><link rel="prefetch" href="/assets/page.html-CNrb2u05.js" as="script"><link rel="prefetch" href="/assets/index.html-a1uZBFeV.js" as="script"><link rel="prefetch" href="/assets/2025 年你必须知道的 10 个向量数据库.html-BOm1GdIO.js" as="script"><link rel="prefetch" href="/assets/Cusor AI编程实战(1)：抖音爆款文案提取_改写工具(上).html-TCqnJUUq.js" as="script"><link rel="prefetch" href="/assets/Claude 4发布，程序员真的要失业了吗.html-CAZQwFb0.js" as="script"><link rel="prefetch" href="/assets/Cursor 1.0 终于来了.html-W4Or0bJG.js" as="script"><link rel="prefetch" href="/assets/一文讲透大模型应用开发：你必须掌握的新时代技术核心竞争力.html-DMWRgyVE.js" as="script"><link rel="prefetch" href="/assets/人工智能导论.html-DXNLwpti.js" as="script"><link rel="prefetch" href="/assets/什么是大语言模型.html-DzZ_kpxX.js" as="script"><link rel="prefetch" href="/assets/理解机器学习.html-CuyhqTGq.js" as="script"><link rel="prefetch" href="/assets/理解深度学习.html-Ci_vI6FC.js" as="script"><link rel="prefetch" href="/assets/生成式AI简介.html-B5g5uWbt.js" as="script"><link rel="prefetch" href="/assets/Go环境搭建.html-CtfNlwKf.js" as="script"><link rel="prefetch" href="/assets/Go编码规范.html-5nQfk2Pk.js" as="script"><link rel="prefetch" href="/assets/Go语言前景.html-Bhtw-QBt.js" as="script"><link rel="prefetch" href="/assets/Go语言单测.html-wh-PH5aQ.js" as="script"><link rel="prefetch" href="/assets/channel原理.html-BkpkWcnH.js" as="script"><link rel="prefetch" href="/assets/context原理.html-DXlhfxMz.js" as="script"><link rel="prefetch" href="/assets/defer原理.html-DOinvKLj.js" as="script"><link rel="prefetch" href="/assets/gmp调度原理.html-LGnmb--R.js" as="script"><link rel="prefetch" href="/assets/interface原理.html-D6_Hrwgw.js" as="script"><link rel="prefetch" href="/assets/map原理.html-vm54ApjL.js" as="script"><link rel="prefetch" href="/assets/slice原理.html-C8SQQU7y.js" as="script"><link rel="prefetch" href="/assets/string原理.html-D7249HaK.js" as="script"><link rel="prefetch" href="/assets/sync.map原理.html-UwfpI7wh.js" as="script"><link rel="prefetch" href="/assets/内存管理.html-BMl5oHai.js" as="script"><link rel="prefetch" href="/assets/垃圾回收.html-CjQQWFUC.js" as="script"><link rel="prefetch" href="/assets/程序初始化.html-BzS6SydU.js" as="script"><link rel="prefetch" href="/assets/逃逸分析.html-D4AqoKY6.js" as="script"><link rel="prefetch" href="/assets/Go语言Map.html-wMWgwNhe.js" as="script"><link rel="prefetch" href="/assets/Go语言defer.html-oKxErW24.js" as="script"><link rel="prefetch" href="/assets/Go语言error.html-oVpGaqQ8.js" as="script"><link rel="prefetch" href="/assets/Go语言代码结构.html-w332_kaD.js" as="script"><link rel="prefetch" href="/assets/Go语言依赖管理.html-QqLYQ65Z.js" as="script"><link rel="prefetch" href="/assets/Go语言函数.html-BuQwVazs.js" as="script"><link rel="prefetch" href="/assets/Go语言变量.html-vcAO2c44.js" as="script"><link rel="prefetch" href="/assets/Go语言命名规范.html-DHFlRV2x.js" as="script"><link rel="prefetch" href="/assets/Go语言常量.html-BgfCymlO.js" as="script"><link rel="prefetch" href="/assets/Go语言异常捕获.html-DrUdPvdJ.js" as="script"><link rel="prefetch" href="/assets/Go语言循环.html-CBJAPegr.js" as="script"><link rel="prefetch" href="/assets/Go语言指针.html-UHWx-Shy.js" as="script"><link rel="prefetch" href="/assets/Go语言接口.html-DB7tvIt7.js" as="script"><link rel="prefetch" href="/assets/Go语言数组与切片.html-DBWHWvVo.js" as="script"><link rel="prefetch" href="/assets/Go语言方法.html-CZlomeCF.js" as="script"><link rel="prefetch" href="/assets/Go语言条件句.html-Dc5jJpKc.js" as="script"><link rel="prefetch" href="/assets/Go语言结构体.html-CwCxqoL2.js" as="script"><link rel="prefetch" href="/assets/Go语言运算符.html-CXaUlobd.js" as="script"><link rel="prefetch" href="/assets/gin.html-vbvoDIPf.js" as="script"><link rel="prefetch" href="/assets/gorm.html-rSo49oKT.js" as="script"><link rel="prefetch" href="/assets/Channel.html-DJpzaMud.js" as="script"><link rel="prefetch" href="/assets/Context.html-BfwEr6a2.js" as="script"><link rel="prefetch" href="/assets/Goroutine.html-2l3alRzB.js" as="script"><link rel="prefetch" href="/assets/Select.html-WvWFM4qf.js" as="script"><link rel="prefetch" href="/assets/Sync.html-BD59oXeF.js" as="script"><link rel="prefetch" href="/assets/协程池.html-D5hiEEwE.js" as="script"><link rel="prefetch" href="/assets/反射.html-VrDlIeMJ.js" as="script"><link rel="prefetch" href="/assets/定时器.html-q1lQndOm.js" as="script"><link rel="prefetch" href="/assets/并发概述.html-BA7RGvFx.js" as="script"><link rel="prefetch" href="/assets/范型.html-DlHZL3bX.js" as="script"><link rel="prefetch" href="/assets/Channel面试题.html-Cl1maafD.js" as="script"><link rel="prefetch" href="/assets/Context面试题.html-C2Z7c0FA.js" as="script"><link rel="prefetch" href="/assets/GMP面试题.html-CZ0Jl28z.js" as="script"><link rel="prefetch" href="/assets/Interface面试题.html-CGHnatxn.js" as="script"><link rel="prefetch" href="/assets/Map面试题.html-BRJy7Wf7.js" as="script"><link rel="prefetch" href="/assets/Slice面试题.html-D-JxiP33.js" as="script"><link rel="prefetch" href="/assets/Sync面试题.html-CaraVh6k.js" as="script"><link rel="prefetch" href="/assets/代码面试题.html-C13KuJ1U.js" as="script"><link rel="prefetch" href="/assets/内存管理面试题.html-BK8fgygu.js" as="script"><link rel="prefetch" href="/assets/反射面试题.html-BHuvmGnJ.js" as="script"><link rel="prefetch" href="/assets/垃圾回收面试题.html-BWYcSJo_.js" as="script"><link rel="prefetch" href="/assets/基础面试题.html-BRTNfrZr.js" as="script"><link rel="prefetch" href="/assets/index.html-Bq0UQCXK.js" as="script"><link rel="prefetch" href="/assets/baz.html-wbH5ft0J.js" as="script"><link rel="prefetch" href="/assets/index.html-C4C3WlIR.js" as="script"><link rel="prefetch" href="/assets/ray.html-C5i9-1I9.js" as="script"><link rel="prefetch" href="/assets/mysql.html-DIQKlcqu.js" as="script"><link rel="prefetch" href="/assets/mysql1.html-C7n_8GAF.js" as="script"><link rel="prefetch" href="/assets/redis.html-BH5pzy3z.js" as="script"><link rel="prefetch" href="/assets/Go程序数据库连接池耗尽如何排查.html-BxTGalWv.js" as="script"><link rel="prefetch" href="/assets/Java线上接口响应慢如何排查.html-BUNtSAch.js" as="script"><link rel="prefetch" href="/assets/当面试官问起_负载均衡_，哪些点是核心？.html-CesX9Ax_.js" as="script"><link rel="prefetch" href="/assets/微服务架构核心：服务注册与发现的AP与CP抉择.html-BbH_BWbf.js" as="script"><link rel="prefetch" href="/assets/服务降级：从有损服务到保障核心业务的架构智慧.html-DMCWxdwX.js" as="script"><link rel="prefetch" href="/assets/熔断：如何优雅地应对服务雪崩与抖动.html-CiAKngaa.js" as="script"><link rel="prefetch" href="/assets/限流：从算法到阈值，一次性讲透.html-BUFCQGW7.js" as="script"><link rel="prefetch" href="/assets/李煜1.html-CJbok9Ad.js" as="script"><link rel="prefetch" href="/assets/李煜2.html-52Qgm5sc.js" as="script"><link rel="prefetch" href="/assets/辛弃疾1.html-BIGAidu9.js" as="script"><link rel="prefetch" href="/assets/辛弃疾2.html-m1yYjH7F.js" as="script"><link rel="prefetch" href="/assets/消息丢失.html-CHBWQqTS.js" as="script"><link rel="prefetch" href="/assets/Agent.html-DVlmlJz5.js" as="script"><link rel="prefetch" href="/assets/LCEL.html-B8ssXFwV.js" as="script"><link rel="prefetch" href="/assets/LangChain基础概念.html-kVv7iHAP.js" as="script"><link rel="prefetch" href="/assets/Memery.html-DzMLpfRm.js" as="script"><link rel="prefetch" href="/assets/Model-IO.html-C8SeZGmz.js" as="script"><link rel="prefetch" href="/assets/RAG(检索增强).html-BICvGAvf.js" as="script"><link rel="prefetch" href="/assets/回调.html-CTNFBmQX.js" as="script"><link rel="prefetch" href="/assets/数据连接.html-_pXfp6gI.js" as="script"><link rel="prefetch" href="/assets/流式传输.html-BleYPkTj.js" as="script"><link rel="prefetch" href="/assets/链.html-CWIKOcW-.js" as="script"><link rel="prefetch" href="/assets/大模型简介.html-CuEdLj9B.js" as="script"><link rel="prefetch" href="/assets/404.html-BbQOjVwP.js" as="script"><link rel="prefetch" href="/assets/index.html-KXuA7OvQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CccUJ0Tx.js" as="script"><link rel="prefetch" href="/assets/index.html-D7Ug0Aci.js" as="script"><link rel="prefetch" href="/assets/index.html-CxloT2n-.js" as="script"><link rel="prefetch" href="/assets/index.html-BJ2YsXFD.js" as="script"><link rel="prefetch" href="/assets/index.html-DJeLn3pY.js" as="script"><link rel="prefetch" href="/assets/index.html-qVDLA_c4.js" as="script"><link rel="prefetch" href="/assets/index.html-CyVuAJXi.js" as="script"><link rel="prefetch" href="/assets/index.html-B7bRy_hB.js" as="script"><link rel="prefetch" href="/assets/index.html-DBIiKCxQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CW7eOUGp.js" as="script"><link rel="prefetch" href="/assets/index.html-Blnhk7Qt.js" as="script"><link rel="prefetch" href="/assets/index.html-DVEYydRj.js" as="script"><link rel="prefetch" href="/assets/index.html-CV8SrsST.js" as="script"><link rel="prefetch" href="/assets/index.html-KD1ijCxO.js" as="script"><link rel="prefetch" href="/assets/index.html-BovGX6Vr.js" as="script"><link rel="prefetch" href="/assets/index.html-DawJY7MA.js" as="script"><link rel="prefetch" href="/assets/index.html-BZ4sFnJH.js" as="script"><link rel="prefetch" href="/assets/index.html-Dg9XgeUz.js" as="script"><link rel="prefetch" href="/assets/index.html-jDtD7S3Q.js" as="script"><link rel="prefetch" href="/assets/index.html-dAu7d3Jl.js" as="script"><link rel="prefetch" href="/assets/index.html-Kw6E9hc8.js" as="script"><link rel="prefetch" href="/assets/index.html-FmndcNcs.js" as="script"><link rel="prefetch" href="/assets/index.html-B0s2imGf.js" as="script"><link rel="prefetch" href="/assets/index.html-subaLe4k.js" as="script"><link rel="prefetch" href="/assets/index.html-C87MXskD.js" as="script"><link rel="prefetch" href="/assets/index.html-BgEVAYSf.js" as="script"><link rel="prefetch" href="/assets/index.html-Btgrd13q.js" as="script"><link rel="prefetch" href="/assets/index.html-BRX8U4Mr.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-Cquo9_1s.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/web_logo2.png" alt><!----><span class="vp-site-name hide-in-pad">秀才的进阶之路</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="秀才的进阶之路"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->秀才的进阶之路<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/Go%E8%AF%AD%E8%A8%80%E7%B3%BB%E5%88%97/Go%E8%AF%AD%E8%A8%80%E5%89%8D%E6%99%AF/Go%E8%AF%AD%E8%A8%80%E5%89%8D%E6%99%AF.html" aria-label="Go语言进阶之路"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><!--]-->Go语言进阶之路<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/%E5%90%8E%E7%AB%AF%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%B7%AF/%E9%9D%A2%E8%AF%95%E5%9C%BA%E6%99%AF%E9%A2%98/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E6%A0%B8%E5%BF%83%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%8F%91%E7%8E%B0%E7%9A%84AP%E4%B8%8ECP%E6%8A%89%E6%8B%A9.html" aria-label="后端进阶之路"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-chart-simple" style=""></span><!--]-->后端进阶之路<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/AI%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%B7%AF/%E7%94%9F%E6%88%90%E5%BC%8FAI%E5%85%A5%E9%97%A8/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AF%BC%E8%AE%BA.html" aria-label="AI进阶之路"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-robot" style=""></span><!--]-->AI进阶之路<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/yourusername/xiucai-stack" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">AI进阶之路</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">生成式AI入门指南</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">提示词工程</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">大模型应用开发</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">大模型导论</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">LangChain从入门到精通</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">RAG系列</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/AI%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%B7%AF/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/RAG%E7%B3%BB%E5%88%97/RAG%E6%80%BB%E4%BD%93%E6%A6%82%E8%A7%88.html" aria-label="RAG总体概览"><!---->RAG总体概览<!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">AI编程</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">AI应用</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->RAG总体概览</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/Percygu" target="_blank" rel="noopener noreferrer">秀才</a></span><span property="author" content="秀才"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年6月26日</span><meta property="datePublished" content="2025-06-26T15:42:17.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 16 分钟</span><meta property="timeRequired" content="PT16M"></span><!----><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color5" role>AI</span><span class="page-tag-item color3" role>AI应用开发</span><span class="page-tag-item color3" role>llm</span><span class="page-tag-item color4" role>大模型</span><span class="page-tag-item color1" role>大模型应用开发</span><span class="page-tag-item color4" role>LangChain</span><span class="page-tag-item color3" role>Callbacks</span><span class="page-tag-item color5" role>回调</span><!--]--><meta property="keywords" content="AI,AI应用开发,llm,大模型,大模型应用开发,LangChain,Callbacks,回调"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-rag-简介">1. RAG 简介</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-rag-范式">2. RAG 范式</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-1-原生-rag">2.1 原生 RAG</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-2-高级-rag">2.2 高级 RAG</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-3-模块化-rag">2.3 模块化 RAG</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-rag-框架">3. RAG 框架</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-1-检索">3.1 检索</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-2-生成">3.2 生成</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-3-增强">3.3 增强</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-rag-与微调">4. RAG 与微调</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-rag-评估">5. RAG 评估</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-rag-的挑战与未来">6. RAG 的挑战与未来</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-rag-工具">7. RAG 工具</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-小结">8. 小结</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="rag总体概览" tabindex="-1"><a class="header-anchor" href="#rag总体概览"><span>RAG总体概览</span></a></h1><p>在处理 LLM 时存在着许多挑战，例如领域知识差距、事实问题和幻觉等灯。检索增强生成（RAG）通过为 LLM 添加外部知识（如数据库）来解决一些这些问题。RAG 特别适用于需要不断更新知识的知识密集型场景或特定领域应用。与其它方法相比，RAG 的一个主要优势是 LLM 不需要为特定任务重新训练。RAG也因其在对话代理中的应用而广受欢迎</p><h2 id="_1-rag-简介" tabindex="-1"><a class="header-anchor" href="#_1-rag-简介"><span>1. RAG 简介</span></a></h2><p>RAG 接受输入并根据来源（例如，维基百科）检索一组相关/支持的文档。这些文档作为上下文与原始输入提示连接，并馈送到文本生成器，生成最终输出。这使得 RAG 能够适应事实随时间变化的情况。这对于绕过 LLMs 的参数化知识静态性，通过基于检索的生成访问最新信息以生成可靠输出非常有用。</p><figure><img src="/assets/image-a9Tv0Knb.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>简而言之，RAG 检索到的证据可以作为提高 LLM 响应准确度、可控性和相关性的手段。这就是为什么 RAG 可以帮助减少在高度演变环境中解决问题时出现的幻觉或表现问题</p><p>尽管 RAG 也涉及预训练方法的优化，但当前的方法主要转向结合 RAG 和强大的微调模型（如 ChatGPT 和 Mixtral）的优势。下图展示了 RAG 相关研究的演变</p><figure><img src="/assets/image-1-BgHDSbaC.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>下面是一个典型的 RAG 应用工作流：</p><figure><img src="/assets/image-2-BCNwpg6g.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>可以按照以下方式解释不同的步骤/组件：</p><ul><li><p><strong>输入</strong>：LLM 系统响应的问题称为输入。如果没有使用 RAG，LLM 将直接用于回答问题</p></li><li><p><strong>索引</strong>：如果使用 RAG，则首先通过分块方式对一系列相关文档进行分块，生成分块的嵌入向量，并将这些分块索引到向量存储中。在推理时，查询也以类似的方式生成嵌入向量</p></li><li><p><strong>检索</strong>：相关的文档通过将查询与索引向量进行比较获得，也称为&quot;相关文档&quot;</p></li><li><p><strong>生成</strong>：相关的文档将与原始提示一起作为额外背景信息进行组合。组合后的文本和提示随后传递给模型以生成响应，该响应随后作为系统的最终输出提供给用户</p></li></ul><p>在很多场景中，直接使用模型无法回答关于当前事件的问题，因为模型缺乏相关知识。而使用 RAG 时，系统可以提取模型需要的相关信息，从而使模型能够适当回答问题</p><h2 id="_2-rag-范式" tabindex="-1"><a class="header-anchor" href="#_2-rag-范式"><span>2. RAG 范式</span></a></h2><p>在过去几年里，RAG 系统从朴素的 RAG 发展到了高级 RAG 和模块化 RAG。这种发展是为了应对性能、成本和效率方面的某些限制</p><figure><img src="/assets/image-3-BSdwGgh3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_2-1-原生-rag" tabindex="-1"><a class="header-anchor" href="#_2-1-原生-rag"><span>2.1 原生 RAG</span></a></h3><p>原生 RAG，即Naive RAG，遵循传统的索引、检索和生成过程。简而言之，用户输入用于查询相关文档，然后将这些文档与提示结合并传递给模型以生成最终响应。如果应用程序涉及多轮对话交互，可以将对话历史集成到提示中</p><p>Naive RAG 有一些局限性，例如较低的精度（检索到的片段对齐不准确）和较低的召回率（未能检索到所有相关片段）。此外，LLM 可能会接收到过时的信息，这也是 RAG 系统最初需要解决的主要问题之一。这会导致幻觉问题和不准确的响应</p><p>当应用增强时，还可能出现冗余和重复的问题。使用多个检索段落时，排名和协调风格/语气也是关键。另一个挑战是确保生成任务不要过度依赖增强信息，这可能导致模型只是重复检索的内容</p><h3 id="_2-2-高级-rag" tabindex="-1"><a class="header-anchor" href="#_2-2-高级-rag"><span>2.2 高级 RAG</span></a></h3><p>高级 RAG 有助于解决朴素 RAG 存在的问题，如通过优化预检索、检索和后检索过程来提高检索质量。</p><ol><li><p>预检索过程涉及优化数据索引，旨在通过五个阶段提升被索引数据的质量：细化数据粒度、优化索引结构、增加元数据、对齐优化以及混合检索</p></li><li><p>检索阶段可以通过优化嵌入模型本身来进一步改进，这直接影响了构成上下文的片段的质量。这可以通过微调嵌入以优化检索相关性或采用能够更好地捕捉上下文理解的动态嵌入（例如，OpenAI 的 embeddings-ada-02 模型）来实现</p></li><li><p>检索后优化侧重于避免上下文窗口限制并处理嘈杂或可能分散注意力的信息。解决这些问题的常见方法是重新排名，这可能包括将相关上下文重新定位到提示的边缘或重新计算查询与相关文本片段之间的语义相似性。提示压缩也可能有助于解决这些问题</p></li></ol><h3 id="_2-3-模块化-rag" tabindex="-1"><a class="header-anchor" href="#_2-3-模块化-rag"><span>2.3 模块化 RAG</span></a></h3><p>顾名思义，模块化 RAG 增强了功能模块，例如引入了相似检索的搜索模块，并在检索器中进行了微调。朴素 RAG 和高级 RAG 都是模块化 RAG 的特例，由固定模块组成。扩展 RAG 模块包括搜索、记忆、融合、路由、预测和任务适配器，它们解决了不同的问题。这些模块可以根据特定问题的上下文重新排列。因此，模块化 RAG 得益于更大的多样性和灵活性，你可以根据任务需求添加或替换模块或调整模块之间的流程</p><ul><li><p>鉴于 RAG 系统构建的灵活性增加，还提出了其他一些优化技术来优化 RAG 管道，包括：</p></li><li><p>混合搜索探索：这种方法结合了基于关键词的搜索和语义搜索等技术来检索相关且富有上下文的信息；这在处理不同类型的查询和信息需求时非常有用</p></li><li><p>递归检索和查询引擎：涉及一个递归检索过程，可能从较小的语义片段开始，随后检索更大的片段以丰富上下文；这有助于平衡效率和丰富的上下文信息</p></li><li><p>StepBack-prompt：一种提示技术，使 LLM 能够进行抽象，产生指导推理的概念和原则；在 RAG 框架中采用时，这会导致更好的基于事实的响应，因为 LLM 可以远离具体实例，并在需要时进行更广泛的推理</p></li><li><p>子查询：有不同的查询策略，如树查询或按顺序查询片段，适用于不同的场景。LlamaIndex 提供了一个子问题查询引擎，允许查询被分解成几个问题，每个问题使用不同的相关数据源</p></li><li><p>假设文档嵌入：HyDE 生成一个假设的答案，将其嵌入，并使用该假设的答案检索与其相似的文档，而不是直接使用查询</p></li></ul><h2 id="_3-rag-框架" tabindex="-1"><a class="header-anchor" href="#_3-rag-框架"><span>3. RAG 框架</span></a></h2><p>本文将总结 RAG 系统组件的关键发展，包括检索、生成和增强</p><h3 id="_3-1-检索" tabindex="-1"><a class="header-anchor" href="#_3-1-检索"><span>3.1 检索</span></a></h3><p>检索是 RAG 组件中处理从检索器中获取高度相关上下文的部分。检索器可以通过许多方式得到增强，包括：</p><h4 id="_3-1-1-提升语义表示" tabindex="-1"><a class="header-anchor" href="#_3-1-1-提升语义表示"><span>3.1.1 <strong>提升语义表示</strong></span></a></h4><p>这个过程涉及直接改进驱动检索器的语义表示。这里有一些考虑事项：</p><ul><li><p><strong>分块</strong>：一个重要的步骤是选择合适的分块策略，这取决于你处理的内容以及你生成响应的应用。不同的模型在不同的块大小上表现出不同的优势。Sentence transformers 在单句上表现更好，但 text-embedding-ada-002 在包含 256 或 512 个标记的块上表现更好。其他需要考虑的因素包括用户问题的长度、应用和标记限制，但通常需要尝试不同的分块策略来帮助优化你的 RAG 系统中的检索</p></li><li><p><strong>细分嵌入模型</strong>：确定有效的分块策略后，如果您的工作涉及特定领域，可能需要对嵌入模型进行微调。否则，用户查询在您的应用程序中可能会被完全误解。您可以根据广泛领域的知识（即领域知识微调）和特定下游任务进行微调。BAAI 开发的 BGE-large-EN 是一个值得注意的嵌入模型，可以对其进行微调以优化检索相关性</p></li></ul><h4 id="_3-1-2-查询和文档对齐" tabindex="-1"><a class="header-anchor" href="#_3-1-2-查询和文档对齐"><span>3.1.2 <strong>查询和文档对齐</strong></span></a></h4><p>这个过程涉及将用户的查询与文档在语义空间中对齐。这可能需要在用户的查询缺乏语义信息或包含不精确的措辞时进行。这里有一些方法：</p><ul><li><p><strong>查询重写</strong>：专注于使用各种技术（如 Query2Doc、ITER-RETGEN 和 HyDE）重写查询</p></li><li><p><strong>向量嵌入变换</strong>：优化查询嵌入的表示，并将其与更接近任务的潜在空间对齐</p></li></ul><h4 id="_3-1-3-对齐检索器和-llm" tabindex="-1"><a class="header-anchor" href="#_3-1-3-对齐检索器和-llm"><span>3.1.3 <strong>对齐检索器和 LLM</strong></span></a></h4><p>这个过程涉及将检索器输出与 LLM 的偏好对齐</p><ul><li><p><strong>精调检索器</strong>：使用 LLM 的反馈信号来细化检索模型。示例包括适应检索增强器（AAR）、REPLUG 和 UPRISE 等</p></li><li><p><strong>适配器</strong>: 通过引入外部适配器来帮助对齐过程。示例包括 PRCA、RECOMP 和 PKG</p></li></ul><h3 id="_3-2-生成" tabindex="-1"><a class="header-anchor" href="#_3-2-生成"><span>3.2 生成</span></a></h3><p>在 RAG 系统中，生成器负责将检索到的信息转换成连贯的文本，形成模型的最终输出。这个过程涉及多样化的输入数据，有时需要努力调整语言模型以适应来自查询和文档的输入数据。这可以通过后检索处理和微调来解决：</p><ul><li><p><strong>Post-retrieval with Frozen LLM</strong>: Post-retrieval 处理不会影响 LLM，而是通过信息压缩和结果重排序等操作来提升检索结果的质量。信息压缩有助于减少噪声、解决 LLM 的上下文长度限制问题，并增强生成效果。重排序旨在重新排列文档，以使最相关的内容排在前面</p></li><li><p><strong>使用 LLM 进行 RAG 微调</strong>：为了改进 RAG 系统，生成器可以进一步优化或微调，以确保生成的文本自然且有效地利用了检索到的文档</p></li></ul><h3 id="_3-3-增强" tabindex="-1"><a class="header-anchor" href="#_3-3-增强"><span>3.3 增强</span></a></h3><p>增强涉及将检索段落中的上下文有效整合到当前生成任务中的过程。在讨论增强过程、增强阶段和增强数据之前，这里是对 RAG 核心组件的分类：</p><figure><img src="/assets/image-4-Jzps-4h-.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>RAG 的增强可以在预训练、微调和推理等不同阶段应用</p><ul><li><p><strong>augmentation Stages</strong>: RETRO 是一个利用检索增强进行大规模从头预训练的系统示例；它使用了基于外部知识的附加编码器。RAG 还可以与微调结合使用，以帮助开发和提高 RAG 系统的有效性。在推理阶段，应用了许多技术来有效地结合检索内容，以满足特定任务需求，并进一步细化 RAG 过程</p></li><li><p><strong>增强数据源</strong>：RAG 模型的效果受增强数据源的选择影响很大。数据可以分为无结构、结构化和 LLM 生成的数据</p></li><li><p><strong>增强过程</strong>：对于许多问题（例如多步推理），一次检索是不够的，因此已经提出了几种方法：</p><ul><li><p>迭代检索使模型能够进行多次检索循环，以增强信息的深度和相关性。利用这种方法的知名方法包括 RETRO 和 GAR-meets-RAG</p></li><li><p>递归检索递归地将上一步检索的输出作为下一步检索的输入；这使得对于复杂和多步查询（例如学术研究和法律案例分析）能够更深入地挖掘相关信息。利用这种方法的知名方法包括 IRCoT 和澄清树</p></li><li><p>适应性检索根据特定需求调整检索过程，确定检索的最佳时机和内容。利用这种方法的知名方法包括 FLARE 和 Self-RAG</p></li></ul></li></ul><p>下图详细描绘了 RAG 研究的不同增强方面，包括增强阶段、来源和过程</p><figure><img src="/assets/image-5-BUnd8Qhk.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_4-rag-与微调" tabindex="-1"><a class="header-anchor" href="#_4-rag-与微调"><span>4. RAG 与微调</span></a></h2><p>关于 RAG 和微调之间的差异以及在哪些场景下使用哪种方法的讨论有很多开放性问题。在这两个领域的研究表明，RAG 适用于整合新知识，而微调可以通过改进内部知识、输出格式和复杂指令遵循能力来提高模型性能和效率。这些方法并非互斥，可以在迭代过程中相互补充，以提高 LLM 在复杂知识密集型和可扩展应用中的使用，这些应用需要快速获取的知识和符合特定格式、语气和风格的定制响应。此外，通过利用模型的固有能力，提示工程也可以帮助优化结果。</p><p>以下是 RAG 与其他模型优化方法的不同特点的图：</p><figure><img src="/assets/image-6-CmZEODCm.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这里是从调研论文中提取的表格，比较了 RAG 和微调模型之间的特性：</p><figure><img src="/assets/image-7-D9y8nu11.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_5-rag-评估" tabindex="-1"><a class="header-anchor" href="#_5-rag-评估"><span>5. RAG 评估</span></a></h2><p>与从不同方面衡量 LLMs 的性能类似，评估在理解并优化跨多种应用场景的 RAG 模型性能中扮演着关键角色。传统上，RAG 系统是基于下游任务的性能并通过特定任务的指标如 F1 和 EM 来评估。RaLLe 是用于评估知识密集型任务中增强检索的大语言模型的一个 notable 例子</p><p>RAG 评估目标同时确定了检索和生成的目标，旨在评估检索到的上下文质量和生成的内容质量。为了评估检索质量，使用了其他知识密集型领域如推荐系统和信息检索中使用的指标，如 NDCG 和命中率。为了评估生成质量，可以评估不同的方面，如相关性和有害性（如果是未标记内容）或准确性（如果是标记内容）。总体而言，RAG 评估可以包括手动或自动评估方法</p><p>评估 RAG 框架主要关注三个质量评分和四种能力。质量评分包括衡量上下文相关性（即检索上下文的精确性和具体性）、答案忠实度（即答案对检索上下文的忠实性）以及答案相关性（即答案对提出问题的相关性）。此外，还有四种能力有助于衡量 RAG 系统的适应性和效率：噪声鲁棒性、负面拒绝、信息整合和反事实鲁棒性。以下是用于评估 RAG 系统不同方面的指标总结：</p><figure><img src="/assets/image-8-BlufgmbF.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>使用 RGB 和 RECALL 等基准来评估 RAG 模型。许多工具如 RAGAS、ARES 和 TruLens 已被开发出来，以自动化评估 RAG 系统的流程。一些系统依赖于 LLMs 来确定上述定义的一些质量评分</p><h2 id="_6-rag-的挑战与未来" tabindex="-1"><a class="header-anchor" href="#_6-rag-的挑战与未来"><span>6. RAG 的挑战与未来</span></a></h2><p>本文我们讨论了 RAG 研究的几个研究方面以及增强检索、扩充和生成 RAG 系统的不同方法。正如 Gao 等人在2023 年所强调的，随着我们继续开发和改进 RAG 系统，这里列出了几个挑战：</p><p><strong>上下文长度</strong>：LLMs 继续扩展上下文窗口大小，这给 RAG 如何适应以确保捕获高度相关和重要的上下文带来了挑战</p><p><strong>稳定性</strong>：处理反事实和对抗性信息对于衡量和改进 RAG 非常重要</p><p><strong>混合方法</strong>：正在进行研究努力以更好地理解如何最好地优化 RAG 和微调模型的使用</p><p><strong>扩展 LLM 角色</strong>：增加 LLM 的角色和能力以进一步增强 RAG 系统是非常有 interest 的</p><p><strong>scaling laws</strong>: LLM 的缩放定律及其如何应用于 RAG 系统仍尚未充分理解</p><p><strong>生产就绪的 RAG</strong>：生产级别的 RAG 系统在性能、效率、数据安全、隐私等方面都需要卓越的工程能力</p><p><strong>多模态 RAG</strong>：虽然在 RAG 系统方面已经进行了大量的研究工作，但这些研究主要集中在文本任务上。人们越来越有兴趣扩展 RAG 系统的模态，以支持在更多领域（如图像、音频、视频、代码等）解决问题</p><p><strong>评估</strong>：构建复杂的 RAG 应用程序需要特别关注开发更细致的度量标准和评估工具，以更可靠地评估不同方面，如上下文相关性、创造力、内容多样性、事实性等。此外，还需要更好的可解释性研究和工具</p><h2 id="_7-rag-工具" tabindex="-1"><a class="header-anchor" href="#_7-rag-工具"><span>7. RAG 工具</span></a></h2><p>构建 RAG 系统的一些流行综合工具包括 LangChain、LlamaIndex 和 DSPy。还有一些专门工具用于不同的目的，例如 Flowise AI 提供了低代码解决方案来构建 RAG 应用程序。其他值得注意的技术包括 HayStack、Meltano、Cohere Coral 等。软件和云服务提供商也包括了 RAG 为中心的服务。例如，Weaviate 的 Verba 适用于构建个人助手应用程序，而 Amazon 的 Kendra 则提供智能企业搜索服务</p><h2 id="_8-小结" tabindex="-1"><a class="header-anchor" href="#_8-小结"><span>8. 小结</span></a></h2><p>总之，RAG 系统发展迅速，包括开发了更先进的范式，这些范式使 RAG 的定制化和性能在广泛的应用领域中得到了进一步提升。对 RAG 应用的需求非常大，这加速了改进 RAG 系统各个组件的方法的发展。从混合方法到自我检索，这些都是现代 RAG 模型目前探索的研究领域之一。对更好的评估工具和指标的需求也在增加。下图清晰的展示了 RAG 生态系统、增强 RAG 的技术、挑战及其他相关方面的总结</p><figure><img src="/assets/image-9-clEqEBYU.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/yourusername/xiucai-stack/edit/main/src/AI进阶之路/大模型应用开发/RAG系列/RAG总体概览.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/6/26 23:42:17</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 380059082@qq.com">gupeng</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">秀才的进阶之路｜专注于技术分享与知识传播｜<a href="https://beian.miit.gov.cn/" target="_blank" style="color: #3b82f6; text-decoration: none;">粤ICP备2024352247号</a></div><div class="vp-copyright">Copyright © 2025 秀才 </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DnLzMSw7.js" defer></script>
  </body>
</html>
